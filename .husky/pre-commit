#!/bin/sh
echo "ğŸ” Running code checks and validations..."

echo "ğŸ§¹ Running Prettier on all files..."
npx prettier --write "**/*.{js,jsx,ts,tsx,json,css,scss,md}"

echo "ğŸ§¹ Running ESLint with auto-fix..."
npx next lint --fix || {
  echo "âŒ ESLint found errors that couldn't be auto-fixed. Please fix them manually and try again."
  exit 1
}

# echo "ğŸ§ª Running validation scripts..."
# npm run validate-all || {
#   echo "âŒ Validation failed. Please fix the errors and try again."
#   exit 1
# }

echo "ğŸ—ï¸ Attempting to build the project..."
npm run build || {
  echo "âŒ Build failed. Please fix the errors and try again."
  exit 1
}

echo "âœ… All checks passed! Committing changes..."
